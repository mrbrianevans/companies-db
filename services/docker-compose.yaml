"version": "3.7"
"services":
  "registered-office-address":
    "build": "registeredOfficeAddress/webService"
    "networks":
      - "microservices"
    "env_file":
      - ".env"
    "logging":
      "driver": "local"
  "company-profile":
    "build": "companyProfile/webService"
    "networks":
      - "microservices"
    "env_file":
      - ".env"
    "logging":
      "driver": "local"
  "search":
    "build": "search/webService"
    "networks":
      - "microservices"
    "env_file":
      - ".env"
    "logging":
      "driver": "local"
  "officers":
    "build": "officers/webService"
    "networks":
      - "microservices"
    "env_file":
      - ".env"
    "logging":
      "driver": "local"
  "registers":
    "build": "registers/webService"
    "networks":
      - "microservices"
    "env_file":
      - ".env"
    "logging":
      "driver": "local"
  "charges":
    "build": "charges/webService"
    "networks":
      - "microservices"
    "env_file":
      - ".env"
    "logging":
      "driver": "local"
  "filing-history":
    "build": "filingHistory/webService"
    "networks":
      - "microservices"
    "env_file":
      - ".env"
    "logging":
      "driver": "local"
  "insolvency":
    "build": "insolvency/webService"
    "networks":
      - "microservices"
    "env_file":
      - ".env"
    "logging":
      "driver": "local"
  "exemptions":
    "build": "exemptions/webService"
    "networks":
      - "microservices"
    "env_file":
      - ".env"
    "logging":
      "driver": "local"
  "officer-disqualifications":
    "build": "officerDisqualifications/webService"
    "networks":
      - "microservices"
    "env_file":
      - ".env"
    "logging":
      "driver": "local"
  "officer-appointments":
    "build": "officerAppointments/webService"
    "networks":
      - "microservices"
    "env_file":
      - ".env"
    "logging":
      "driver": "local"
  "ukestablishments":
    "build": "UKEstablishments/webService"
    "networks":
      - "microservices"
    "env_file":
      - ".env"
    "logging":
      "driver": "local"
  "persons-with-significant-control":
    "build": "personsWithSignificantControl/webService"
    "networks":
      - "microservices"
    "env_file":
      - ".env"
    "logging":
      "driver": "local"
  "gateway":
    "image": "caddy"
    "volumes":
      - "./Caddyfile:/etc/caddy/Caddyfile"
    "ports":
      - "3000:80"
    "networks":
      - "microservices"
      - "metrics"
    "logging":
      "driver": "local"
  "auth-db":
    "image": "redis"
    "networks":
      - "auth"
    "logging":
      "driver": "local"
    "volumes":
      - "auth_db:/data"
  "auth-service":
    "build": "auth"
    "networks":
      - "auth"
      - "microservices"
    "logging":
      "driver": "local"
    "environment":
      "AUTH_DB_URL": "auth-db"
  "metrics":
    "image": "prom/prometheus"
    "logging":
      "driver": "local"
    "volumes":
      - "./prometheus.yaml:/etc/prometheus/prometheus.yml"
    "ports":
      - "9090:9090"
    "networks":
      - "metrics"
  "shared-mongo":
    "image": "mongo"
    "logging":
      "driver": "local"
    "networks":
      - "microservices"
    "volumes":
      - "shared_mongo:/data/db"
  "shared-redis":
    "image": "redis"
    "logging":
      "driver": "local"
    "networks":
      - "microservices"
    "volumes":
      - "/data"
"networks":
  "microservices":
    "driver": "bridge"
  "auth":
    "driver": "bridge"
  "metrics":
    "driver": "bridge"
"volumes":
  "shared_mongo":
    "external": true
  "auth_db":
    "external": true
